# ~/.zsh/zshrc

ZSH_CONFIG="$HOME/.zsh"

# Compile a list of additional files to be sourced
# From http://github.com/seebi/zshrc
typeset -ga sources

sources+="env.zsh"

# Zinit plugins
sources+="plugins.zsh"
# Custom git plugin changes
sources+="git.zsh"

sources+="aliases.zsh"
sources+="functions.zsh"
sources+="history.zsh"
sources+="misc.zsh"

sources+="keys.zsh"

sources+="private.zsh"

# Homeshick
source "$HOME/.homesick/repos/homeshick/homeshick.sh"
fpath=($HOME/.homesick/repos/homeshick/completions $fpath)

if [[ -n "${NERSC_HOST:+x}" ]]; then
  host=$NERSC_HOST
else
  host=$HOSTNAME
fi

for file in $sources; do
  if [[ -f $ZSH_CONFIG/$file ]]; then
    source "$ZSH_CONFIG/$file"
  fi
  if [[ -d $ZSH_CONFIG/$host ]]; then
    if [[ -f $ZSH_CONFIG/$host/$file ]]; then
      source "$ZSH_CONFIG/$host/$file"
    fi
  fi
done
